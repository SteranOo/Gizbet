@model Gizbet.WEB.Models.LotAddModel

@using (Html.BeginForm("Add", "Lots", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()

        <div class="col-sm-12">
            <div class="form-horizontal">
                <div align="center" class="thumbnail"><h3 style="margin-top: 10px">Регистрация лота</h3></div>

                <hr />
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                <div class="form-group">
                    @Html.LabelFor(model => model.UploadImage, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.TextBoxFor(model => model.UploadImage, new { @class = "form-control", type = "file", accept = "image/*" })
                        @Html.ValidationMessageFor(model => model.UploadImage, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.Name, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.Description, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.Description, new { htmlAttributes = new { @class = "form-control", rows = "5" } })
                        @Html.ValidationMessageFor(model => model.Description, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.CategoryId, htmlAttributes: new { @class = "control-label col-md-2" })

                    <div class="col-md-10">
                        <select name="CategoryId" class="form-control">
                            @foreach (var cateory in ViewBag.Categories)
                            {
                                <option @(Model == null ? "" : (cateory.Id == Model.CategoryId ? "selected='selected'" : "")) value="@cateory.Id">@cateory.Name</option>
                            }
                        </select>
                    </div>

                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.HoursDuration, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.HoursDuration, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.HoursDuration, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.InitialPrice, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.InitialPrice, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.InitialPrice, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group" >
                    @Html.LabelFor(model => model.IsSelling, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10" align="left">
                        @Html.EditorFor(model => model.IsSelling, new { htmlAttributes = new { @class = "form-control", @checked = "checked", id = "isSelling" } })
                        @Html.ValidationMessageFor(model => model.IsSelling, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div id="sellingPrice" class="form-group">
                    @Html.LabelFor(model => model.SellingPrice, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.SellingPrice, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.SellingPrice, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.Step, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.Step, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.Step, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    <div align="center">
                        <input type="submit" value="Опубликовать" class="btn btn-success" />
                    </div>
                </div>
            </div>
        </div>
}

@section scripts
{
    <script>
        var check = function() {
            if ($("#isSelling").is(':checked'))
                $("#sellingPrice").show();
            else
                $("#sellingPrice").hide();
        }

        check();
        $("#isSelling").click(check);
    </script>
}

